import{b as p,v as m,j as $,f as A}from"./axios-23462d7f.js";import{_ as B}from"./lodash-9f8c5478.js";import{r as I}from"./index-b960e99b.js";import{_ as L}from"./Modal-20c18eb7.js";import{_ as R}from"./ShowErrors-70f32166.js";import{_ as G}from"./PreviewCurriculumCompany-e20a1529.js";import{Y as a,T as F,aa as H,r as z,o as c,c as u,e,w as r,a as j,p as b,S as w,F as y,f as D,k as P,t as s,h as T,i as J}from"./runtime-core.esm-bundler-5fc0a256.js";import"./logo-top-2fcfa290.js";import"./_plugin-vue_export-helper-c27b6911.js";const Y={class:"page-content"},K={class:"container-fluid"},Q={class:"row"},W={class:"col-xl-12"},X={class:"card"},Z={id:"type_selective",class:"card-body"},ee={class:"row"},te={class:"col-4 form-check"},oe=["checked"],se=e("label",{class:"form-check-label text-uppercase",for:"processComplete"},"Processo Seletivo Completo",-1),le={class:"col-8 mb-1"},ae=e("label",{class:"form-label pb-1 fs-6 fw-400",for:"job_offer_id"},"SELECIONE UMA VAGA EM ABERTO",-1),ie={class:"d-flex justify-content-between align-items-center"},de={class:"d-flex flex-column"},ne={key:1,style:{opacity:"0.5"}},ce=e("div",null,[e("p",null," Este tipo de seleção exige o cadastro da vaga previamente. Além disso, os currículos que foram selecionados a partir da base de currículos se juntarão aos que se inscreveram na vaga a partir do anúncios. "),e("p",{class:"bg-primary text-white"},"AINDA NÃO ESTÁ DISPONÍVEL")],-1),re=e("hr",null,null,-1),ue={class:"row mt-4"},_e={class:"col-4 form-check"},ve=["checked"],pe=e("label",{class:"form-check-label text-uppercase",for:"processSimplified"},"Processo Seletivo Simplificado",-1),me={class:"col-8 mb-1"},fe=e("label",{class:"form-label pb-1 fs-6 fw-400",for:"occupation_id"},"SELECIONE UM CARGO",-1),he={class:"d-flex justify-content-between align-items-center"},be={class:"d-flex flex-column"},ye={key:1,style:{opacity:"0.5"}},ge=e("div",null,[e("p",null," O tipo de seleção Simplificada é indicado para quem deseja selecionar candidatos de forma rápida, sem ter que cadastrar uma vaga com os requisitos da mesma. ")],-1),ke={class:"align-content-end"},Se=["disabled"],xe={class:"card-body"},Ce={class:"row"},je={class:"table table-sm table-striped"},we=e("thead",null,[e("tr",null,[e("th",null,"Nome"),e("th",null,"Idade"),e("th",null,"Escore"),e("th",null,"Cargos de interesse"),e("th",null,"Ação")])],-1),Ae=["value"],Ee=["onClick"],Ne=e("i",{class:"bi bi-list"},null,-1),Oe=[Ne],Ve={class:"col-4"},$e={id:"detail"},De={id:"schedule"},Pe={class:"row"},Te={class:"col-2"},Me=e("label",{for:"start_date",class:"form-label"},"Data",-1),Ue={class:"col-2"},qe=e("label",{for:"start_hour",class:"form-label"},"Hora",-1),Be={class:"col-5"},Ie=e("label",{for:"note",class:"form-label"},"Observação",-1),Le={class:"col-1"},Re={class:"table table-sm table-striped"},Ge=e("thead",null,[e("tr",null,[e("th",null,"Nome"),e("th",null,"Data"),e("th",null,"Horário"),e("th",null,"Cargo")])],-1),Fe=["value"],He={id:"schedule"},ze={class:"modal-footer border-0 d-flex justify-content-between align-items-center"},Je={key:0},at={__name:"SelectionCandidatos",setup(Ye){const g=a("type_selective"),f=a("detail"),k=a([]),E=a([]),S=a([]),h=a({}),N=a(null),O=a([]),n=a("simplified"),x=a(!1);let C=a([]);const _=a({start_date:"",start_hour:"",note:""}),v=a({occupation_id:"",job_offer_id:""}),M=()=>I.push({path:"/admin"}),U=F(()=>(n.value==="simplified"&&v.value.occupation_id||n.value==="complete"&&v.value.job_offer_id)&&S.value.length),q=l=>{var o=JSON.stringify({uuid:h.uuid,candidate_uuid:h.candidate_uuid,job_offer_id:v.job_offer_id,occupation_id:v.occupation_id,schedule:{start_date:_.start_date,start_hour:_.start_hour,note:_.note}});if(n.value=="complete"){const{data:i}=p.post("/curriculum/to-job-offer",{data:o});i.error&&(x.value=!0,C.value=i.message)}else{const{data:i}=p.post("/curriculum/to-direct-selection",{data:o});i.error&&(x.value=!0,C.value=i.message)}S[l].display=!1},V=B.debounce((l,o)=>{!l||p.get(`/occupations/search/${l}`).then(({data:i})=>O.value=i.occupations).catch(i=>console.log(i)).finally(()=>o&&o(!1))},1e3);return H(async()=>{await p.get("/job-offers/opened").then(({data:l})=>{k.value=l.jobs}),await p.get("/schedules/scheduled").then(({data:l})=>{E.value=l.scheduled}),await p.get("/curriculum/available-to-job").then(({data:l})=>{S.value=l.curriculum,x.value=l.error,C.value.push(l.message)})}),(l,o)=>{const i=z("v-select");return c(),u(y,null,[e("div",Y,[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[r(e("div",Z,[e("div",ee,[e("div",te,[r(e("input",{id:"processComplete","onUpdate:modelValue":o[0]||(o[0]=t=>n.value=t),type:"radio",class:"form-check-input",name:"selectiveProcess",value:"complete",checked:n.value=="complete"},null,8,oe),[[$,n.value]]),se]),e("div",le,[e("div",null,[ae,j(i,{disabled:n.value!=="complete xyz",id:"job_offer_id",class:"style-chooser",label:"title",reduce:t=>t.title,options:k.value,"clear-search-on-select":!0,filterable:!1,clearable:!0,onSearch:k.value,"onOption:selected":o[1]||(o[1]=t=>v.value.job_offer_id=t.id),"onSearch:focus":k.value},{option:b(({title:t,requester:d})=>[e("div",ie,[e("div",de,[e("span",null,s(t),1),e("span",null,s(d),1)])])]),"no-options":b(({search:t,searching:d})=>[d?(c(),u(y,{key:0},[T(" Não encontrado "),e("em",null,s(t),1)],64)):(c(),u("em",ne,"Digite as iniciais do título da vaga"))]),_:1},8,["disabled","reduce","options","onSearch","onSearch:focus"])]),ce,re])]),e("div",ue,[e("div",_e,[r(e("input",{id:"processSimplified","onUpdate:modelValue":o[2]||(o[2]=t=>n.value=t),type:"radio",class:"form-check-input",name:"selectiveProcess",value:"simplified",checked:n.value!="complete"},null,8,ve),[[$,n.value]]),pe]),e("div",me,[e("div",null,[fe,j(i,{disabled:n.value!=="simplified",id:"occupation_id",class:"style-chooser",label:"name",reduce:t=>t.name,options:O.value,"clear-search-on-select":!0,filterable:!1,clearable:!0,onSearch:w(V),"onOption:selected":o[3]||(o[3]=t=>v.value.occupation_id=t.id),"onSearch:focus":o[4]||(o[4]=t=>w(V)())},{option:b(({name:t,area:d})=>[e("div",he,[e("div",be,[e("span",null,s(t),1),e("span",null,s(d),1)])])]),"no-options":b(({search:t,searching:d})=>[d?(c(),u(y,{key:0},[T(" Não encontrado "),e("em",null,s(t),1)],64)):(c(),u("em",ye,"Digite as iniciais do cargo"))]),_:1},8,["disabled","reduce","options","onSearch"])]),ge])]),e("div",ke,[e("button",{disabled:!w(U),onClick:o[5]||(o[5]=t=>g.value="selective")},"AVANÇAR",8,Se)])],512),[[m,g.value==="type_selective"]]),r(e("div",xe,[e("div",Ce,[e("table",je,[we,e("tbody",null,[(c(!0),u(y,null,D(S.value,(t,d)=>r((c(),u("tr",{key:d,value:t.candidate_uuid},[e("td",null,s(t.candidate),1),e("td",null,s(t.age),1),e("td",null,s(t.score),1),e("td",null,s(t.occupations_interest),1),e("td",null,[e("button",{"data-bs-toggle":"modal","data-bs-target":"#scheduled",onClick:Ke=>(h.value=t,N.value=d)},Oe,8,Ee)])],8,Ae)),[[m,t.display]])),128))])])]),e("div",Ve,[e("button",{onClick:o[6]||(o[6]=t=>g.value="type_selective")},"VOLTAR")])],512),[[m,g.value==="selective"]])])])])])]),j(L,{id:"scheduled","class-name":"modal-dialog w-150 ms-auto mt-6 me-4 d-flex flex-column"},{default:b(()=>[r(e("div",$e,[Object.keys(h.value)?(c(),J(G,{key:0,uuid:h.value.candidate_uuid,obf:"no"},null,8,["uuid"])):P("",!0)],512),[[m,f.value=="detail"]]),r(e("div",De,[e("div",Pe,[e("div",Te,[Me,r(e("input",{type:"date",id:"start_date",class:"form-control border-gray-500","onUpdate:modelValue":o[7]||(o[7]=t=>_.value.start_date=t)},null,512),[[A,_.value.start_date]])]),e("div",Ue,[qe,r(e("input",{type:"time",id:"start_hour",class:"form-control border-gray-500","onUpdate:modelValue":o[8]||(o[8]=t=>_.value.start_hour=t)},null,512),[[A,_.value.start_hour]])]),e("div",Be,[Ie,r(e("input",{type:"text",id:"note",class:"form-control border-gray-500","onUpdate:modelValue":o[9]||(o[9]=t=>_.value.note=t)},null,512),[[A,_.value.note]])]),e("div",Le,[e("button",{class:"btn m-0 btn-primary-outline fs-5 py-1 px-4 border-gray-500","data-bs-dismiss":"modal","aria-label":"Close","aria-hidden":"false",onClick:o[10]||(o[10]=t=>q(N.value))}," Agendar ")])]),e("table",Re,[Ge,e("tbody",null,[(c(!0),u(y,null,D(E.value,(t,d)=>(c(),u("tr",{key:d,value:t.uuid},[e("td",null,s(t.candidate),1),e("td",null,s(t.start_date),1),e("td",null,s(t.start_hour)+" - "+s(t.end_hour),1),e("td",null,s(t.occupation),1)],8,Fe))),128))])])],512),[[m,f.value=="schedule"]]),e("div",He,[e("div",ze,[e("button",{class:"btn m-0 btn-primary-outline fs-5 py-1 px-4 border-gray-500","data-bs-dismiss":"modal","aria-label":"Close","aria-hidden":"true",onClick:o[11]||(o[11]=t=>f.value="detail")}," Voltar "),r(e("button",{onClick:o[12]||(o[12]=t=>f.value="schedule")},"Agendar Entrevista",512),[[m,f.value=="detail"]])])])]),_:1}),x.value?(c(),u("div",Je,[j(R,{errors:w(C),onClick:M},null,8,["errors"])])):P("",!0)],64)}}};export{at as default};
